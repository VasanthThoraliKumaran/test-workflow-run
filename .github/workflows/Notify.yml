# File: .github/workflows/read-artifact.yml
name: Read Artifact

on:
  workflow_run:
    workflows: ["Store Artifact"]  # Trigger after Store Artifact workflow completes
    types:
      - completed

jobs:
  read:
    runs-on: windows-latest  # Using Windows runner

    steps:
    - name: Download my-artifact
      uses: actions/download-artifact@v2
      with:
        name: my-artifact  # Matches the artifact name from Store Artifact workflow
        path: data.txt
        run-id: ${{ github.event.workflow_run.id }}
    - name: Display structure of downloaded files
      run: ls -R
